<!DOCTYPE html>
<html>
<head>
	<title>Oh My Teacher</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

</head>
<body>

	<form action = "http://localhost:5000/oh_my_teacher" method = "post" enctype="multipart/form-data">

<div class="card">
    <div class="card-header">
    Oh My Teacher
  </div>
  <div class="card-body">

      <div class="card">
          <div class="card-header">
            Caption
          </div>
          <div class="card-body">
            <samp>{{caption}}</samp>
          </div>
      </div>

      <div class="card">
          <div class="card-header">
            Summary AI for Thai
          </div>
          <div class="card-body">
            <samp>{{summary}}</samp>
          </div>
      </div>

       <div class="card">
          <div class="card-header">
            Summary ChatGPT
          </div>
          <div class="card-body">
            <samp>{{summaryGPT}}</samp>
          </div>
      </div>

          <input name="file" class="form-control form-control-lg" id="audio-upload" type="file" accept=".mp3, .wav, .m4a" />
        <label for="audio-upload" class="form-label"></label>



        </br>
      <div class="text-center">
          <button type="submit" class="btn btn-primary btn-lg">Upload</button>
      </div>

      </br>

  </div>
</div>


	</form>


<script>
function changeHandler({
  target
}) {
  // Make sure we have files to use
  if (!target.files.length) return;

  // Create a blob that we can use as an src for our audio element
  const urlObj = URL.createObjectURL(target.files[0]);

  // Create an audio element
  const audio = document.createElement("audio");

  // Clean up the URL Object after we are done with it
  audio.addEventListener("load", () => {
    URL.revokeObjectURL(urlObj);
  });

  // Append the audio element
  document.body.appendChild(audio);

  // Allow us to control the audio
  audio.controls = "true";

  // Set the src and start loading the audio from the file
  audio.src = urlObj;
}
document.getElementById("audio-upload").addEventListener("change", changeHandler);
</script>


</body>
</html>
